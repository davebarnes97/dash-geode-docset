<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Configuring Highly Available Servers |
    Geode Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../../stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="../../../stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='../../../images/favicon.ico' rel='shortcut icon'>

  <script src="../../../javascripts/all.js"></script>
  
</head>

<body class="docs docs_developing docs_developing_events docs_developing_events_configuring_highly_available_servers">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "apache.org";
    </script>

    <!--  -->

    <div class="container">

      <!--googleoff: index-->
      <!--  -->
      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        <!--  -->
        <!--   <h1 class="title-container">
    Configuring Highly Available Servers
  </h1>
 -->
          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<p><a id="configuring_highly_available_servers__section_7EB2A7E38B074AAAA06D22C59687CB8A"></a>
With highly-available servers, one of the backups steps in and takes over messaging with no interruption in service if the client&rsquo;s primary server crashes.</p>

<p>To configure high availability, set the <code>subscription-redundancy</code> in the client&rsquo;s pool configuration. This setting indicates the number of secondary servers to use. For example:</p>
<pre class="highlight plaintext"><code>&lt;!-- Run one secondary server --&gt;
&lt;pool name="red1" subscription-enabled="true" subscription-redundancy="1"&gt; 
  &lt;locator host="nick" port="41111"/&gt; 
  &lt;locator host="nora" port="41111"/&gt; 
&lt;/pool&gt; 
</code></pre>
<pre class="highlight plaintext"><code>&lt;!-- Use all available servers as secondaries. One is primary, the rest are secondaries --&gt;
&lt;pool name="redX" subscription-enabled="true" subscription-redundancy="-1"&gt; 
  &lt;locator host="nick" port="41111"/&gt; 
  &lt;locator host="nora" port="41111"/&gt; 
&lt;/pool&gt; 
</code></pre>

<p>When redundancy is enabled, secondary servers maintain queue backups while the primary server pushes events to the client. If the primary server fails, one of the secondary servers steps in as primary to provide uninterrupted event messaging to the client.</p>

<p>The following table describes the different values for the subscription-redundancy setting:</p>

<table><thead>
<tr>
<th>subscription-redundancy</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>0</td>
<td>No secondary servers are configured, so high availability is disabled.</td>
</tr>
<tr>
<td>&gt; 0</td>
<td>Sets the precise number of secondary servers to use for backup to the primary.</td>
</tr>
<tr>
<td>-1</td>
<td>Every server that is not the primary is to be used as a secondary.</td>
</tr>
</tbody></table>

<ul>
<li>  <strong><a href="ha_event_messaging_whats_next.html">Highly Available Client/Server Event Messaging</a></strong></li>
</ul>

        <!-- 
 -->
      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <!--  -->
  </footer>
</div><!--end of container-->

</body>
</html>
