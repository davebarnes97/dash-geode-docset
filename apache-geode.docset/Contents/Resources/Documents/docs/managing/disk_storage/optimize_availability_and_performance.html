<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Optimizing a System with Disk Stores |
    Geode Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  
</head>

<body class="docs docs_managing docs_managing_disk_storage docs_managing_disk_storage_optimize_availability_and_performance">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "apache.org";
    </script>

    <!--  -->

    <div class="container">

      <!--googleoff: index-->
      <!--  -->
      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        <!--  -->
        <!--   <h1 class="title-container">
    Optimizing a System with Disk Stores
  </h1>
 -->
          <div id="js-quick-links" >
            
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <!--
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to You under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<p>Optimize availability and performance by following the guidelines in this section.</p>

<ol>
<li> Apache Geode recommends the use of <code>ext4</code> filesystems when operating on Linux or Solaris platforms. The <code>ext4</code> filesystem supports preallocation, which benefits disk startup performance. If you are using <code>ext3</code> filesystems in latency-sensitive environments with high write throughput, you can improve disk startup performance by setting the <code>maxOplogSize</code> (see the <code>DiskStoreFactory.setMaxOplogSize</code>) to a value lower than the default 1 GB and by disabling preallocation by specifying the system property <code>gemfire.preAllocateDisk=false</code> upon Geode process startup.</li>
<li> When you start your system, start all the members that have persistent regions at roughly the same time. Create and use startup scripts for consistency and completeness.</li>
<li> Shut down your system using the gfsh <code>shutdown</code> command. This is an ordered shutdown that positions your disk stores for a faster startup.</li>
<li> Configure critical usage thresholds (<code>disk-usage-warning-percentage</code> and <code>disk-usage-critical-percentage</code>) for the disk. By default, these are set to 80% for warning and 99% for errors that will shut down the cache.</li>
<li> Decide on a file compaction policy and, if needed, develop procedures to monitor your files and execute regular compaction.</li>
<li> Decide on a backup strategy for your disk stores and follow it. You can back up a running sytem by using the <code>backup                     disk-store</code> command.</li>
<li> If you remove any persistent region or change its configuration while your disk store is offline, consider synchronizing the regions in your disk stores.</li>
</ol>

        <!-- 
 -->
      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <!--  -->
  </footer>
</div><!--end of container-->

</body>
</html>
